var btnWriteUs=document.querySelector(".btn-write-us"),popup=document.querySelector(".modal-write-us"),allCloses=document.querySelectorAll(".modal-close"),overlay=document.querySelector(".overlay"),formWriteUs=document.querySelector(".modal-form"),modalName=document.querySelector(".write-us-name"),modalMail=document.querySelector(".write-us-mail"),modalText=document.querySelector(".feedback-text"),isStorageSupport=!0,storageName="",storageMail="",mapPopup=document.querySelector(".modal-map"),productsBuy=document.querySelectorAll(".product-btn-buy"),productsBookmark=document.querySelectorAll(".product-btn-bookmarks"),linkMap=document.querySelector(".btn-map"),cartPopup=document.querySelector(".modal-cart"),bookmarkPopup=document.querySelector(".modal-bookmark"),headerCart=document.querySelector(".header-btn-cart"),headerBookmark=document.querySelector(".header-btn-bookmarks"),contShoppingCart=document.querySelectorAll(".btn-next"),contShoppingBook=document.querySelectorAll(".btn-next");try{storageName=localStorage.getItem("modalName"),storageMail=localStorage.getItem("modalMail")}catch(o){isStorageSupport=!1}btnWriteUs&&btnWriteUs.addEventListener("click",function(o){o.preventDefault(),popup.classList.add("modal-show"),overlay.classList.add("modal-show-overlay"),storageName&&storageMail?(modalName.value=storageName,modalMail.value=storageMail,modalText.focus()):modalName.focus()});for(var i=0;i<=allCloses.length-1;i++){var close=allCloses[i];close.addEventListener("click",function(o){o.preventDefault(),(popup||mapPopup)&&(popup.classList.remove("modal-show"),mapPopup.classList.remove("modal-show"),popup.classList.remove("modal-error")),(cartPopup||bookmarkPopup)&&(cartPopup.classList.remove("modal-show"),bookmarkPopup.classList.remove("modal-show")),overlay.classList.remove("modal-show-overlay")})}popup&&overlay.addEventListener("click",function(o){o.preventDefault(),popup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay"),popup.classList.remove("modal-error")}),formWriteUs&&formWriteUs.addEventListener("submit",function(o){modalName.value&&modalMail.value&&modalText.value?isStorageSupport&&(localStorage.setItem("modalName",modalName.value),localStorage.setItem("modalMail",modalMail.value)):(o.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),popup&&window.addEventListener("keydown",function(o){27===o.keyCode&&(o.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay"),popup.classList.remove("modal-error")))}),linkMap&&linkMap.addEventListener("click",function(o){o.preventDefault(),mapPopup.classList.add("modal-show"),overlay.classList.add("modal-show-overlay")}),mapPopup&&overlay.addEventListener("click",function(o){o.preventDefault(),mapPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay")}),mapPopup&&window.addEventListener("keydown",function(o){27===o.keyCode&&(o.preventDefault(),mapPopup.classList.contains("modal-show")&&(mapPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay")))});for(i=0;i<=productsBuy.length-1;i++){var product=productsBuy[i];product.addEventListener("click",function(o){o.preventDefault(),cartPopup.classList.add("modal-show"),headerCart.classList.add("btn-users-add"),overlay.classList.add("modal-show-overlay")})}if(cartPopup&&overlay.addEventListener("click",function(o){o.preventDefault(),cartPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay")}),contShoppingCart)for(i=0;i<=contShoppingCart.length-1;i++){var btnShopingCart=contShoppingCart[i];btnShopingCart.addEventListener("click",function(o){o.preventDefault(),cartPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay")})}cartPopup&&window.addEventListener("keydown",function(o){27===o.keyCode&&(o.preventDefault(),cartPopup.classList.contains("modal-show")&&(cartPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay")))});for(i=0;i<=productsBookmark.length-1;i++){var productBook=productsBookmark[i];productBook.addEventListener("click",function(o){o.preventDefault(),bookmarkPopup.classList.add("modal-show"),headerBookmark.classList.add("btn-users-add"),overlay.classList.add("modal-show-overlay")})}if(bookmarkPopup&&overlay.addEventListener("click",function(o){o.preventDefault(),bookmarkPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay")}),contShoppingBook)for(i=0;i<=contShoppingBook.length-1;i++)btnShoppingBook=contShoppingBook[i],btnShoppingBook.addEventListener("click",function(o){o.preventDefault(),bookmarkPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay")});bookmarkPopup&&window.addEventListener("keydown",function(o){27===o.keyCode&&(o.preventDefault(),bookmarkPopup.classList.contains("modal-show")&&(bookmarkPopup.classList.remove("modal-show"),overlay.classList.remove("modal-show-overlay")))});